[gd_scene load_steps=9 format=3 uid="uid://j26pdko6vtw6"]

[ext_resource type="Script" path="res://Actors/Player.cs" id="1_ybxvk"]
[ext_resource type="Material" uid="uid://dhbqygtbosh0s" path="res://Resources/Materials/mat_test_player.tres" id="2_lmok3"]
[ext_resource type="PackedScene" uid="uid://bxij68dxba7i0" path="res://Models/mdl_grapple.blend" id="3_7pcm1"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_1ctfj"]
radius = 0.4
height = 1.75

[sub_resource type="CapsuleMesh" id="CapsuleMesh_j1i3c"]
material = ExtResource("2_lmok3")
radius = 0.4
height = 1.75
radial_segments = 8
rings = 1

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_d0a4m"]
radius = 0.2
height = 1.25

[sub_resource type="CapsuleMesh" id="CapsuleMesh_54cw7"]
material = ExtResource("2_lmok3")
radius = 0.2
height = 1.75
radial_segments = 8
rings = 2

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_7eqrd"]
points = PackedVector3Array(0, 0, 0, -2.5, 0, -10, 2.5, 0, -10, 0, -2.5, -10, 0, 2.5, -10)

[node name="ActAtlas" type="CharacterBody3D"]
collision_layer = 2
script = ExtResource("1_ybxvk")
grappleCastPath = NodePath("GrappleCast")
standingShapePath = NodePath("StandingShape")
grapplingShapePath = NodePath("GrapplingShape")
grappleSkeletonPath = NodePath("mdl_grapple/Armature/Skeleton3D")
movementSpeed = 6.0
acceleration = 50.0
deceleration = 35.0
airAcceleration = 35.0
airDeceleration = 5.0
jumpableStates = [0]
jumpHeight = 2.0
fallGravityMultiplier = 1.5
grappleableStates = [0, 1, 2]
grappleRange = 10.0
grappleStall = 0.1
grappleSpeed = 30.0
ditherVelocityMult = -1.0

[node name="StandingShape" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_1ctfj")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StandingShape"]
mesh = SubResource("CapsuleMesh_j1i3c")
skeleton = NodePath("../..")

[node name="GrapplingShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
visible = false
shape = SubResource("CapsuleShape3D_d0a4m")
disabled = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="GrapplingShape"]
mesh = SubResource("CapsuleMesh_54cw7")
skeleton = NodePath("../..")

[node name="GrappleCast" type="RayCast3D" parent="."]

[node name="GrappleObjectCollider" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="GrappleObjectCollider"]
shape = SubResource("ConvexPolygonShape3D_7eqrd")

[node name="mdl_grapple" parent="." instance=ExtResource("3_7pcm1")]

[editable path="mdl_grapple"]
